{"meta":{"title":"Calcite Web","slug":"calcite-web","site":"http://esri.github.io/calcite-web","date":"2015.11.25","description":"<p>A frame­work that ad­dresses com­mon de­sign prob­lems and in­ter­ac­tive el­e­ments for Esri, cre­at­ing a united vi­sual lan­guage and user ex­pe­ri­ence.</p>\n","collection":"projects","timestamp":1448438400000},"content":"<p>\n    <figure class=\"figure\">\n      <picture>\n        <img class=\"figure-image lazyload\" src=\"https://photos.smugmug.com/Projects/Calcite-web/i-FNjrvmC/0/1db11e90/180x180/title-X3.png\" data-optimumx=\"1.6\" data-src=\"https://photos.smugmug.com/Projects/Calcite-web/i-FNjrvmC/0/1db11e90/{width}x5000/title-X3.png\" data-sizes=\"auto\" alt=\"Calite Web Homepage\">\n      </picture>\n    </figure>\n  </p>\n<h2>Design System, Development Framework</h2>\n<p><a href=\"http://www.esri.com/about-esri\">Esri</a> is a large, in­ter­na­tional tech­nol­ogy com­pany with de­vel­op­ment teams all over the world — from Portland to Glasgow to Zurich to Beijing. Esri’s <em>de­sign</em> team how­ever, is based in the Redlands, California mother-ship. This meant that a lot of the de­sign tools cre­ated for Esri’s web pres­ence were un­evenly dis­trib­uted across the huge num­ber of teams who needed to de­velop web prop­er­ties.</p>\n<p>At <a href=\"http://pdx.esri.com/\">Esri <span class=\"small-caps\">PDX</span> R&amp;D</a> we had <a href=\"http://paulcpederson.com/\">as­sem­bled</a> a <a href=\"http://patrickarlt.com/\">strong</a> <a href=\"http://ungoldman.com/\">team</a> of de­signer/​de­vel­op­ers. We sat down to cre­ate a de­sign sys­tem that we could dis­trib­ute to <em>all</em> of Esri’s de­vel­op­ment teams, with the goal of cre­at­ing a uni­ﬁed user ex­pe­ri­ence for all our cus­tomers, and keep­ing all of our prop­er­ties aligned and in sync as we moved for­ward.</p>\n<p>\n    <figure class=\"figure\">\n      <picture>\n        <img class=\"figure-image lazyload\" src=\"https://photos.smugmug.com/Projects/Calcite-web/i-ddZ8k6m/0/e1ea0445/180x180/examples-doc-X3.png\" data-optimumx=\"1.6\" data-src=\"https://photos.smugmug.com/Projects/Calcite-web/i-ddZ8k6m/0/e1ea0445/{width}x5000/examples-doc-X3.png\" data-sizes=\"auto\" alt=\"Calcite Web Examples\">\n      </picture>\n    </figure>\n  </p>\n<h2>Goals</h2>\n<p>Building a de­sign li­brary and <span class=\"small-caps\">CSS</span> frame­work can be a com­pli­cated af­fair, made more com­pli­cated by the large au­di­ence of de­vel­op­ers we had to make the pro­ject work for.</p>\n<p><strong>Adoption:</strong> We had to make the frame­work in­cred­i­bly at­trac­tive to Esri de­vel­op­ers, and in­cred­i­ble easy for them to use. Our main goal was uni­ﬁ­ca­tion, so any bar­ri­ers to adop­tion needed to be re­moved.</p>\n<p><strong>Composabillity:</strong> To this end, we needed us­ing the frame­work to be as sim­ple is in­clud­ing a <span class=\"small-caps\">CSS</span> ﬁle and copy-past­ing code sam­ples.</p>\n<p><strong>Modularity:</strong> Many of the pro­jects at Esri have rigid, pre­ex­ist­ing code bases and tech­nolo­gies that we needed to in­te­grate smoothly with — we needed to pro­vide a sys­tem that works in what­ever tech stack it ﬁnds it­self in.</p>\n<p><strong>No Opinions:</strong> We wanted the frame­work to pro­vide a full set of in­ter­ac­tive pat­terns — re­quir­ing JavaScript — but also work in any JavaScript frame­work en­vi­ron­ment.</p>\n<p><strong>Robust:</strong> Certain as­pects of the frame­work — like <a href=\"/projects/viewport-grid\">the grid sys­tem</a> had ma­jor func­tional re­quire­ments. The grid it­self needed to be col­umn based, fully re­spon­sive by de­fault, and work down to <span class=\"small-caps\">IE</span> 8.</p>\n<p><strong>Flexible:</strong> Developers needed to have ac­cess to a wide range of pat­terns, en­sur­ing that com­mon struc­tures did­n’t get in­de­pen­dently in­vented in dif­fer­ent pro­jects. Designers needed to have the free­dom to cre­ate on-off pages that stood out with­out feel­ing con­stricted.</p>\n<p>\n    <figure class=\"figure\">\n      <picture>\n        <img class=\"figure-image lazyload\" src=\"https://photos.smugmug.com/Projects/Calcite-web/i-RtQW5gB/0/e5bee077/180x180/patterns-doc-X3.png\" data-optimumx=\"1.6\" data-src=\"https://photos.smugmug.com/Projects/Calcite-web/i-RtQW5gB/0/e5bee077/{width}x5000/patterns-doc-X3.png\" data-sizes=\"auto\" alt=\"Calcite Web Patterns\">\n      </picture>\n    </figure>\n  </p>\n<h2>Using Sass</h2>\n<p>Sass — through the <a href=\"https://github.com/sass/node-sass\">Node Sass pro­ject</a> al­lowed us to meet many of our goals. A ma­jor the­o­ret­i­cal un­der­pin­ning to the frame­work’s&nbsp;.<span class=\"small-caps\">SCSS</span> in­volved mak­ing the speci­ﬁcity graph as ﬂat as pos­si­ble, and de­cou­pling style code from se­lec­tors. This al­lows the de­sign code to be reused and adapted ba­si­cally any­where in any given pro­ject.</p>\n<pre><code><span class=\"hljs-keyword\">@mixin</span> tab-contents() {\n  <span class=\"hljs-keyword\">@include</span> box-sizing(border-box);\n  <span class=\"hljs-attribute\">border</span>: <span class=\"hljs-number\">1px</span> solid <span class=\"hljs-variable\">$lighter-gray</span>;\n  <span class=\"hljs-attribute\">margin-top</span>: -<span class=\"hljs-number\">1px</span>;\n}\n<span class=\"hljs-keyword\">@if</span> <span class=\"hljs-variable\">$include-tabs</span> == true {\n <span class=\"hljs-selector-class\">.tab-section</span> { <span class=\"hljs-keyword\">@include</span> tab-section(); }\n}\n</code></pre>\n<p>The <span class=\"small-caps\">CSS</span> de­vel­op­ment prin­ci­ples are out­lined in <a href=\"http://paulcpederson.com/articles/css-for-people-who-hate-css/\">an ex­cel­lent ar­ti­cle (and Esri User Conference pre­sen­ta­tion) by Paul Pederson.</a></p>\n<h2>JavaScript, or Not</h2>\n<p>All of our in­ter­ac­tive pat­terns re­quire a <code>.js-</code> pre­ﬁx hook to bind <span class=\"small-caps\">JS</span> events too. This lets pro­jects us­ing <a href=\"https://angularjs.org/\">Angular</a> or <a href=\"https://facebook.github.io/react/\">React</a> to write their own com­po­nent code for the in­ter­ac­tions while still get­ting all the canon­i­cal de­sign code for a pat­tern.</p>\n<p>\n    <figure class=\"figure\">\n      <picture>\n        <img class=\"figure-image lazyload\" src=\"https://photos.smugmug.com/Projects/Calcite-web/i-nJkf5G2/0/abe4593b/180x180/event-bus-doc-X3.png\" data-optimumx=\"1.6\" data-src=\"https://photos.smugmug.com/Projects/Calcite-web/i-nJkf5G2/0/abe4593b/{width}x5000/event-bus-doc-X3.png\" data-sizes=\"auto\" alt=\"Calcite Web Patterns\">\n      </picture>\n    </figure>\n  </p>\n<p>The <span class=\"small-caps\">JS</span> por­tion of the frame­work uses Publication / Subscription event bus to con­nect user in­tent and com­po­nent be­hav­ior. This al­lows for pro­gram­matic con­trol of the <span class=\"small-caps\">UI</span>, and lets a pat­tern com­mu­ni­cate to the rest of the ap­pli­ca­tion. The JavaScript li­brary is writ­ten as a set of <span class=\"small-caps\">ES6</span> mod­ules, and is com­piled to an <span class=\"small-caps\">ES5</span> <span class=\"small-caps\">UMD</span> mod­ule, at­tach­ing it­self to the <code>window</code> on load.</p>\n<p>\n    <figure class=\"figure\">\n      <picture>\n        <img class=\"figure-image lazyload\" src=\"https://photos.smugmug.com/Projects/Calcite-web/i-npTCL4g/0/705a3306/180x180/color-doc-X3.png\" data-optimumx=\"1.6\" data-src=\"https://photos.smugmug.com/Projects/Calcite-web/i-npTCL4g/0/705a3306/{width}x5000/color-doc-X3.png\" data-sizes=\"auto\" alt=\"Calcite Web Grayscale\">\n      </picture>\n    </figure>\n  </p>\n<h2>The Brand</h2>\n<p>Color and Typography do most of the heavy lift­ing when com­mu­ni­cated brand iden­tity on the Web. We de­vel­oped a gray scale, and se­lected a lim­ited set of col­ors from the im­mense set of <a href=\"https://github.com/Esri/calcite-colors\">Esri’s color pal­lete</a> to ex­pose as sim­ple color classes and vari­ables. We up­dated the ty­pog­ra­phy to Avenir NExt by Adrian Frutiger and Akira Kobayashi to give Esri’s clas­sic Avenir print style a boost that it needed for screen dis­play.</p>\n<p>\n    <figure class=\"figure\">\n      <picture>\n        <img class=\"figure-image lazyload\" src=\"https://photos.smugmug.com/Projects/Calcite-web/i-9Gp8DGk/0/3575a9d5/180x180/type-doc-X3.png\" data-optimumx=\"1.6\" data-src=\"https://photos.smugmug.com/Projects/Calcite-web/i-9Gp8DGk/0/3575a9d5/{width}x5000/type-doc-X3.png\" data-sizes=\"auto\" alt=\"Calcite Web Type\">\n      </picture>\n    </figure>\n  </p>\n<h2>Conclusion</h2>\n<p>The frame­work as been very suc­cess­ful so far — be­ing in­te­grated into new de­signs for esri.com, new sec­tions of <a href=\"http://www.arcgis.com/home/item.html?id=52bdc7ab7fb044d98add148764eaa30a\">ArcGIS Online</a>, and a num­ber of <a href=\"https://developers.arcgis.com/\">re­lated ArcGIS prop­er­ties</a>.</p>\n"}